<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dns_resolver_mirage_shared (dns-resolver.Dns_resolver_mirage_shared)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">dns-resolver</a> &#x00BB; Dns_resolver_mirage_shared</nav><header class="odoc-preamble"><h1>Module <code><span>Dns_resolver_mirage_shared</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-resolve_external"><a href="#val-resolve_external" class="anchor"></a><code><span><span class="keyword">val</span> resolve_external : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="xref-unresolved">Ipaddr</span>.t * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int32 * string)</span> <span class="xref-unresolved">Lwt</span>.t</span></span></code></div><div class="spec-doc"><p><code>resolve_external t (ip, port) data</code> resolves for <code>(ip, port)</code> the query <code>data</code> and returns a pair of the minimum TTL and a response.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-primary_data"><a href="#val-primary_data" class="anchor"></a><code><span><span class="keyword">val</span> primary_data : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../dns-server/Dns_trie/index.html#type-t">Dns_trie.t</a></span></code></div><div class="spec-doc"><p><code>primary_data t</code> is the DNS trie of the primary for the resolver <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_primary_data"><a href="#val-update_primary_data" class="anchor"></a><code><span><span class="keyword">val</span> update_primary_data : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../dns-server/Dns_trie/index.html#type-t">Dns_trie.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>update_primary_data t data</code> updates the primary for the resolver <code>t</code> with the DNS trie <code>data</code>. Any 'notify's to secondaries are discarded - secondary name servers are not supported in this setup.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-update_tls"><a href="#val-update_tls" class="anchor"></a><code><span><span class="keyword">val</span> update_tls : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Tls</span>.Config.server <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>update_tls t tls_config</code> updates the tls configuration to <code>tls_config</code>. If the resolver wasn't already listening for TLS connections it will start listening.</p></div></div></div></body></html>
