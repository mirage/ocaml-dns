<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Query (dns.Dns.Query)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">dns</a> &#x00BB; <a href="../index.html">Dns</a> &#x00BB; Query</nav><h1>Module <code>Dns.Query</code></h1></header><aside><p>Map DNS query-response mechanism onto trie database.</p><dl><dt>author</dt><dd>Tim Deegan</dd></dl><dl><dt>author</dt><dd>Richard Mortier &lt;mort\@cantab.net&gt; (documentation)</dd></dl></aside><dl><dt class="spec type" id="type-answer"><a href="#type-answer" class="anchor"></a><code><span class="keyword">type</span> answer</code><code> = </code><code>{</code><table class="record"><tr id="type-answer.rcode" class="anchored"><td class="def field"><a href="#type-answer.rcode" class="anchor"></a><code>rcode : <a href="../Packet/index.html#type-rcode">Packet.rcode</a>;</code></td></tr><tr id="type-answer.aa" class="anchored"><td class="def field"><a href="#type-answer.aa" class="anchor"></a><code>aa : bool;</code></td></tr><tr id="type-answer.answer" class="anchored"><td class="def field"><a href="#type-answer.answer" class="anchor"></a><code>answer : <span><a href="../Packet/index.html#type-rr">Packet.rr</a> list</span>;</code></td></tr><tr id="type-answer.authority" class="anchored"><td class="def field"><a href="#type-answer.authority" class="anchor"></a><code>authority : <span><a href="../Packet/index.html#type-rr">Packet.rr</a> list</span>;</code></td></tr><tr id="type-answer.additional" class="anchored"><td class="def field"><a href="#type-answer.additional" class="anchor"></a><code>additional : <span><a href="../Packet/index.html#type-rr">Packet.rr</a> list</span>;</code></td></tr></table><code>}</code></dt><dd><p>Partially-marshalled query response; that is, it has been uncompacted from the compact <a href="../Trie/index.html"><code>Trie</code></a> representation, but not yet rendered into a <span class="xref-unresolved" title="unresolved reference to &quot;Cstruct.buf&quot;"><code>Cstruct</code>.buf</span>.</p></dd></dl><dl><dt class="spec type" id="type-filter"><a href="#type-filter" class="anchor"></a><code><span class="keyword">type</span> filter</code><code> = <a href="../Name/index.html#type-t">Name.t</a> <span>&#45;&gt;</span> <a href="../RR/index.html#type-rrset">RR.rrset</a> <span>&#45;&gt;</span> <a href="../RR/index.html#type-rrset">RR.rrset</a></code></dt><dt class="spec type" id="type-flush"><a href="#type-flush" class="anchor"></a><code><span class="keyword">type</span> flush</code><code> = <a href="../Name/index.html#type-t">Name.t</a> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-rdata">Packet.rdata</a> <span>&#45;&gt;</span> bool</code></dt></dl><dl><dt class="spec value" id="val-response_of_answer"><a href="#val-response_of_answer" class="anchor"></a><code><span class="keyword">val</span> response_of_answer : <span>?&#8288;mdns:bool</span> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-t">Packet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-t">Packet.t</a></code></dt><dd><p><code>response_of_answer query answer</code> is the <a href="../Packet/index.html#type-t"><code>Packet.t</code></a> constructed from the <code>answer</code> to the <code>query</code></p></dd></dl><dl><dt class="spec value" id="val-answer_of_response"><a href="#val-answer_of_response" class="anchor"></a><code><span class="keyword">val</span> answer_of_response : <span>?&#8288;preserve_aa:bool</span> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-t">Packet.t</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a></code></dt><dd><p><code>answer_of_response response</code> is the <a href="index.html#type-answer"><code>answer</code></a> corresponding to the upstream <code>response</code> for proxied or forwarded response.</p></dd></dl><dl><dt class="spec value" id="val-answer"><a href="#val-answer" class="anchor"></a><code><span class="keyword">val</span> answer : <span>?&#8288;dnssec:bool</span> <span>&#45;&gt;</span> <span>?&#8288;mdns:bool</span> <span>&#45;&gt;</span> <span>?&#8288;filter:<a href="index.html#type-filter">filter</a></span> <span>&#45;&gt;</span> <span>?&#8288;flush:<a href="index.html#type-flush">flush</a></span> <span>&#45;&gt;</span> <a href="../Name/index.html#type-t">Name.t</a> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-q_type">Packet.q_type</a> <span>&#45;&gt;</span> <a href="../Trie/index.html#type-dnstrie">Trie.dnstrie</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a></code></dt><dd><p>Answer a query about <code>domain_name</code>, given a query type <code>q_type</code> and a <a href="../Trie/index.html"><code>Trie</code></a> of DNS data.</p><dl><dt>returns</dt><dd><p>the <a href="index.html#type-answer"><code>answer</code></a></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-answer_multiple"><a href="#val-answer_multiple" class="anchor"></a><code><span class="keyword">val</span> answer_multiple : <span>?&#8288;dnssec:bool</span> <span>&#45;&gt;</span> <span>?&#8288;mdns:bool</span> <span>&#45;&gt;</span> <span>?&#8288;filter:<a href="index.html#type-filter">filter</a></span> <span>&#45;&gt;</span> <span>?&#8288;flush:<a href="index.html#type-flush">flush</a></span> <span>&#45;&gt;</span> <span><a href="../Packet/index.html#type-question">Packet.question</a> list</span> <span>&#45;&gt;</span> <a href="../Trie/index.html#type-dnstrie">Trie.dnstrie</a> <span>&#45;&gt;</span> <a href="index.html#type-answer">answer</a></code></dt><dd><p>Answer one or more <code>questions</code> given a <a href="../Trie/index.html"><code>Trie</code></a> of DNS data.</p><dl><dt>returns</dt><dd><p>the <a href="index.html#type-answer"><code>answer</code></a></p></dd></dl></dd></dl><dl><dt class="spec value" id="val-create"><a href="#val-create" class="anchor"></a><code><span class="keyword">val</span> create : <span>?&#8288;dnssec:bool</span> <span>&#45;&gt;</span> <span>id:int</span> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-q_class">Packet.q_class</a> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-q_type">Packet.q_type</a> <span>&#45;&gt;</span> <a href="../Name/index.html#type-t">Name.t</a> <span>&#45;&gt;</span> <a href="../Packet/index.html#type-t">Packet.t</a></code></dt><dd><p><code>create ~id q_class q_type q_name</code> creates a query for <code>q_name</code> with the supplied <code>id</code>, <code>q_class</code>, and <code>q_type</code>.</p></dd></dl></div></body></html>