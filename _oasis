OASISFormat: 0.3
OCamlVersion: >= 3.12
Name:        dns
Version:     0.9-dev
Authors:     Anil Madhavapeddy, Tim Deegan, Richard Mortier, Haris Rotsos
License:     LGPL-2.0 with OCaml linking exception
Synopsis:    DNS protocol library for Lwt
Plugins:     META (0.3)
BuildTools:  ocamlbuild

Library dns
  Path: lib 
  Findlibname: dns
  Pack: true
  Modules: 
    Base64, Hashcons, Loader, Name, Operators, Packet, Query, RR, Trie, 
    Zone, Zone_lexer, Zone_parser
  BuildDepends:	cstruct, cstruct.syntax, re, re.str, cryptokit,
    bitstring, bitstring.syntax

Library server
  Path: lib
  Findlibname: server
  Modules: Dns_server
  BuildDepends: 
    lwt, lwt.unix, lwt.syntax, cstruct, cstruct.syntax, dns, cryptokit
  FindlibParent: dns

Library resolver
  Path: lib
  Findlibname: resolver
  Modules: Dns_resolver
  BuildDepends: 
    lwt, lwt.unix, lwt.syntax, cstruct, cstruct.syntax, dns
  FindlibParent: dns

Document dns
  Title:                DNS docs
  Type:                 ocamlbuild (0.2)
  BuildTools+:          ocamldoc
  XOCamlbuildPath:      lib  
  XOCamlbuildModules:     
    Hashcons, Loader, Name, Operators, Packet, Query, RR, Trie, Zone

Executable lwt_server
  Path:               lib_test
  MainIs:             lwt_server.ml
  Build$:             flag(tests)
  Custom:             true
  CompiledObject:     best
  Install:            false
  BuildDepends:       lwt, lwt.unix, bitstring, re, re.str, dns, dns.server

Executable time_server
  Path:               lib_test
  MainIs:             time_server.ml
  Build$:             flag(tests)
  Custom:             true
  CompiledObject:     best
  Install:            false
  BuildDepends:       lwt, lwt.unix, bitstring, re, re.str, dns

Executable odig
  Path:               client
  MainIs:             odig.ml
  Build$:             flag(tests)
  Custom:             true
  CompiledObject:     best
  Install:            false
  BuildDepends:       
    lwt, lwt.unix, lwt.syntax, bitstring, bitstring.syntax, re, re.str, dns,
    dns.resolver, uri

Test lwt_server
  Run$:               flag(tests)
  Command:            $lwt_server
  WorkingDirectory:   lib_test
