<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dns_zone (dns-server.Dns_zone)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">Index</a> &#x00BB; <a href="../index.html">dns-server</a> &#x00BB; Dns_zone</nav><header class="odoc-preamble"><h1>Module <code><span>Dns_zone</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../dns/Dns/Name_rr_map/index.html#type-t">Dns.Name_rr_map.t</a>, <span>[&gt; <span>`Msg of string</span> ]</span>)</span> <span class="xref-unresolved">Stdlib</span>.result</span></span></code></div><div class="spec-doc"><p><code>parse data</code> attempts to parse the <code>data</code>, given in <code>zone file format</code>. It either returns the content as a map, or an error.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_keys"><a href="#val-decode_keys" class="anchor"></a><code><span><span class="keyword">val</span> decode_keys : <span><span><span class="type-var">'a</span> <span class="xref-unresolved">Domain_name</span>.t</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="../../dns/Dns/Dnskey/index.html#type-t">Dns.Dnskey.t</a> <span class="xref-unresolved">Domain_name</span>.Map.t</span></span></code></div><div class="spec-doc"><p><code>decode_keys zone data</code> decodes DNSKEY in <code>data</code>, and ensure that all are within <code>zone</code>. Errors are logged via the logs library.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_zones"><a href="#val-decode_zones" class="anchor"></a><code><span><span class="keyword">val</span> decode_zones : <span><span><span>(string * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Domain_name</span>.Set.t * <a href="../Dns_trie/index.html#type-t">Dns_trie.t</a></span></code></div><div class="spec-doc"><p><code>decode_zones (name, data)</code> parses the zones <code>data</code> with the names <code>name</code>, and constructs a trie that has been checked for consistency. The set of zones are returned, together with the constructed trie. Errors and inconsistencies are logged via the logs library, and the respective zone data is ignored.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-decode_zones_keys"><a href="#val-decode_zones_keys" class="anchor"></a><code><span><span class="keyword">val</span> decode_zones_keys : 
  <span><span><span>(string * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">Domain_name</span>.Set.t * <a href="../Dns_trie/index.html#type-t">Dns_trie.t</a> * <span><span>(<span><span>[ `raw ]</span> <span class="xref-unresolved">Domain_name</span>.t</span> * <a href="../../dns/Dns/Dnskey/index.html#type-t">Dns.Dnskey.t</a>)</span> list</span></span></code></div><div class="spec-doc"><p><code>decode_zones_keys (name, data)</code> is <code>decode_zones</code>, but also if a <code>name</code> ends with &quot;_keys&quot;, the Dnskey records are decoded (using <code>decode_keys</code> and are added to the last part of the return value.</p></div></div></div></body></html>
