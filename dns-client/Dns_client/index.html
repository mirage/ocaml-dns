<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dns_client (dns-client.Dns_client)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">dns-client</a> &#x00BB; Dns_client</nav><h1>Module <code>Dns_client</code></h1><p>The pure interface to the client part of uDns.</p><p>Various helper modules to do with side effects are available from <code>Dns_client_lwt</code>, <code>Dns_client_unix</code> and so forth.</p><p>To learn more about the high-level API, I suggest reading the docstrings of <a href="../Dns_client_flow/index.html"><code>Dns_client_flow</code></a>.</p></header><dl><dt class="spec type" id="type-query_state"><a href="#type-query_state" class="anchor"></a><code><span class="keyword">type</span> 'key query_state</code><code> <span class="keyword">constraint</span> <span class="type-var">'key</span> = <span class="type-var">'a</span> Dns.Rr_map.key</code></dt><dd><p><code>query_state</code> is parameterized over the query type, so the type of the representation of the answer depends on what the name server was asked to provide. See <span class="xref-unresolved" title="unresolved reference to &quot;Dns_map.k&quot;"><code>Dns_map</code>.k</span> for a list of response types. The first element (the <code>int32</code>) in most of the tuples is the Time-To-Live (TTL) field returned from the server, which you can use to calculate when you should request fresh information in case you are writing a long-running application.</p></dd></dl><dl><dt class="spec value" id="val-make_query"><a href="#val-make_query" class="anchor"></a><code><span class="keyword">val</span> make_query : <a href="../../dns/Dns/index.html#type-proto">Dns.proto</a> <span>&#45;&gt;</span> Domain_name.t <span>&#45;&gt;</span> <span class="type-var">'query_type</span> <a href="../../dns/Dns/index.html#module-Rr_map">Dns.Rr_map</a>.key <span>&#45;&gt;</span> Cstruct.t * <span class="type-var">'query_type</span> <a href="../../dns/Dns/index.html#module-Rr_map">Dns.Rr_map</a>.key <a href="index.html#type-query_state">query_state</a></code></dt><dd><p><code>make_query protocol name query_type</code> is <code>query, query_state</code> where <code>query</code> is the serialized DNS query to send to the name server, and <code>query_state</code> is the information required to validate the response.</p><p>NB: When querying for <code>TLSA</code> records, it is important to use the optional <code>~hostname:false</code> parameter with the conversion functions within <code>Domain_name</code> when constructing the <span class="xref-unresolved" title="unresolved reference to &quot;Domain_name.t&quot;"><code>Domain_name</code>.t</span> for the search, since these contain labels prefixed with underscores.</p></dd></dl><dl><dt class="spec value" id="val-parse_response"><a href="#val-parse_response" class="anchor"></a><code><span class="keyword">val</span> parse_response : <span class="type-var">'query_type</span> <a href="../../dns/Dns/index.html#module-Rr_map">Dns.Rr_map</a>.key <a href="index.html#type-query_state">query_state</a> <span>&#45;&gt;</span> Cstruct.t <span>&#45;&gt;</span> (<span class="type-var">'query_type</span>, [ `Msg of string | `Partial ]) Stdlib.result</code></dt><dd><p><code>parse_response query_state response</code> is the information contained in <code>response</code> parsed using <code>query_state</code> when the query was successful, or an <code>Error _</code> if the <code>response</code> did not match the <code>query_state</code> (or if the query failed).</p></dd></dl></div></body></html>